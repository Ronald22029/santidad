import{c as F,p as I,q as M,a as g,h as b,Q as R,l as U,ax as H,ay as O,ad as W,e as X,_ as G,T as y,U as k,V as q,a1 as e,W as n,az as J,X as B,at as r,as as w,a0 as _,ap as K}from"./index.3cc4a621.js";import{Q as Y}from"./QImg.eef0aefe.js";import{Q as A}from"./QBadge.6aeb0f3c.js";import{Q as Z}from"./QPage.c08a548c.js";var Q=F({name:"QBreadcrumbsEl",props:{...I,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(s,{slots:o}){const{linkTag:m,linkAttrs:p,linkClass:t,navigateOnClick:d}=M(),a=g(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(s.disable!==!0?"q-link--focusable"+t.value:"q-breadcrumbs__el--disable"),...p.value,onClick:d})),u=g(()=>"q-breadcrumbs__el-icon"+(s.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const c=[];return s.icon!==void 0&&c.push(b(R,{class:u.value,name:s.icon})),s.label!==void 0&&c.push(s.label),b(m.value,{...a.value},U(o.default,c))}}});const $=["",!0];var ee=F({name:"QBreadcrumbs",props:{...H,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:s=>["none","xs","sm","md","lg","xl"].includes(s),default:"sm"}},setup(s,{slots:o}){const m=O(s),p=g(()=>`flex items-center ${m.value}${s.gutter==="none"?"":` q-gutter-${s.gutter}`}`),t=g(()=>s.separatorColor?` text-${s.separatorColor}`:""),d=g(()=>` text-${s.activeColor}`);return()=>{const a=W(X(o.default));if(a.length===0)return;let u=1;const c=[],x=a.filter(i=>i.type!==void 0&&i.type.name==="QBreadcrumbsEl").length,v=o.separator!==void 0?o.separator:()=>s.separator;return a.forEach(i=>{if(i.type!==void 0&&i.type.name==="QBreadcrumbsEl"){const h=u<x,f=i.props!==null&&$.includes(i.props.disable),C=(h===!0?"":" q-breadcrumbs--last")+(f!==!0&&h===!0?d.value:"");u++,c.push(b("div",{class:`flex items-center${C}`},[i])),h===!0&&c.push(b("div",{class:"q-breadcrumbs__separator"+t.value},v()))}else c.push(i)}),b("div",{class:"q-breadcrumbs"},[b("div",{class:p.value},c)])}}});const te={name:"DetalleProducto",data(){return{id:this.$route.params.id,product:{},loading:!0,cantidad:1,es_porcentaje:!1}},mounted(){this.getProduct()},methods:{async getProduct(){this.loading=!0,this.$q.loading.show();const s=await this.$axios.get(`productos/${this.id}`);if(this.product=s.data,this.product.porcentaje>0){this.es_porcentaje=!0,this.product.precioNormal=this.product.precio;const o=this.product.precio-this.product.precio*this.product.porcentaje/100;this.product.precio=o.toFixed(2)}this.loading=!1,this.$q.loading.hide()},addCart(s,o,m=!1){const p=`Deseo comprar ${o} ${s.nombre} a Bs. ${s.precio} c/u. Total Bs. ${(s.precio*o).toFixed(2)}`;window.open(`https://wa.me/59172319869?text=${p}`)},share(){const s={title:this.product.nombre,text:this.product.descripcion,url:window.location.href};navigator.share(s).then(()=>console.log("Successful share")).catch(o=>console.log("Error sharing",o))}}},se={class:"row"},oe={class:"col-12"},le={class:"col-12 col-md-6"},re={class:"text-left q-px-md"},ie={class:"text-h6"},ce=e("td",{class:"text-bold"},"Precio:",-1),ne=e("td",{class:"text-bold"},"Unidad:",-1),ae=e("td",{class:"text-bold"},"Stock:",-1),de=e("td",{class:"text-bold"},"Principio activo:",-1),ue=e("td",{class:"text-bold"},"Distribuidora:",-1),pe=e("td",{class:"text-bold"},"Laboratorio:",-1),he=e("td",{class:"text-bold"},"Pais origen:",-1),be=e("td",{class:"text-bold"},"Registro sanitario:",-1),me={class:"row"},_e={class:"col-9 flex flex-center"},ge=e("span",{class:"text-bold"},"Cantidad:",-1),xe={class:"text-bold"},ve={class:"col-3 bg-grey-4 text-right"},fe=e("label",{class:"text-bold"},"Total",-1),Ce={class:"text-bold justify-between"},ye={class:"col-4 q-pa-xs"},ke={class:"col-4 q-pa-xs"},qe={class:"col-4 q-pa-xs"},we={class:"col-12"},Be=e("label",{class:"text-bold text-h6"},"Descripci\xF3n:",-1),Qe=["innerHTML"],Se=e("div",{class:"col-12"},[e("label",{class:"text-bold text-h6"},"Productos relacionados:")],-1);function Pe(s,o,m,p,t,d){return y(),k(Z,{class:"bg-grey-3 q-pa-md"},{default:q(()=>{var a,u,c,x,v,i,h,f,C,S,P,j,V,D,N,T,E;return[e("div",se,[e("div",oe,[n(ee,null,{default:q(()=>{var l;return[n(Q,{label:"Inicio",to:"/"}),n(Q,{label:"Productos",to:"/"}),n(Q,{label:(l=t.product)==null?void 0:l.nombre},null,8,["label"])]}),_:1})]),e("div",{class:J(`col-12 col-md-6 ${s.$q.screen.lt.md?"text-center":"text-right"}`)},[(a=t.product)!=null&&a.imagen?(y(),k(Y,{key:0,src:(u=t.product)!=null&&u.imagen.includes("http")?(c=t.product)==null?void 0:c.imagen:`${s.$url}../images/${(x=t.product)==null?void 0:x.imagen}`,"spinner-color":"white",style:{border:"2px solid #496aec","border-radius":"5px"},width:"250px","spinner-size":"40px"},null,8,["src"])):B("",!0)],2),e("div",le,[e("div",re,[e("div",ie,r((v=t.product)==null?void 0:v.nombre),1),e("table",null,[e("tr",null,[ce,e("td",null,[w(" Bs. "+r((i=t.product)==null?void 0:i.precio)+" ",1),t.es_porcentaje?(y(),k(A,{key:0,color:"red"},{default:q(()=>{var l,L,z;return[w(" Descuento "+r((l=t.product)==null?void 0:l.porcentaje)+"% - Bs. "+r((((L=t.product)==null?void 0:L.precio)*((z=t.product)==null?void 0:z.porcentaje)/100).toFixed(2)),1)]}),_:1})):B("",!0),e("span",null,[t.es_porcentaje?(y(),k(A,{key:0,color:"green"},{default:q(()=>{var l;return[w(" Bs. "+r((l=t.product)==null?void 0:l.precioNormal),1)]}),_:1})):B("",!0)])])]),e("tr",null,[ne,e("td",null,r((h=t.product)==null?void 0:h.unidad),1)]),e("tr",null,[ae,e("td",null,r((f=t.product)==null?void 0:f.cantidad),1)]),e("tr",null,[de,e("td",null,r((C=t.product)==null?void 0:C.composicion),1)]),e("tr",null,[ue,e("td",null,r((S=t.product)==null?void 0:S.distribuidora),1)]),e("tr",null,[pe,e("td",null,r((P=t.product)==null?void 0:P.marca),1)]),e("tr",null,[he,e("td",null,r((j=t.product)==null?void 0:j.paisOrigen),1)]),e("tr",null,[be,e("td",null,r((V=t.product)==null?void 0:V.registroSanitario),1)])])]),e("div",me,[e("div",_e,[ge,n(_,{onClick:o[0]||(o[0]=l=>t.cantidad=t.cantidad-1),icon:"remove",dense:"",round:"",color:"primary",disable:t.cantidad<=1},null,8,["disable"]),n(K,{modelValue:t.cantidad,"onUpdate:modelValue":o[1]||(o[1]=l=>t.cantidad=l),type:"number",min:"1",class:"text-center text-bold",outlined:"",dense:"",style:{"text-align":"center",width:"100px"}},null,8,["modelValue"]),n(_,{onClick:o[2]||(o[2]=l=>t.cantidad=t.cantidad+1),icon:"add",dense:"",round:"",color:"primary",disable:t.cantidad>=((D=t.product)==null?void 0:D.cantidad)},null,8,["disable"]),e("span",xe,r((N=t.product)==null?void 0:N.unidad),1)]),e("div",ve,[fe,e("div",Ce,[w(" Bs. "),e("span",null,r((((T=t.product)==null?void 0:T.precio)*t.cantidad).toFixed(2)),1)])]),e("div",ye,[n(_,{onClick:o[3]||(o[3]=l=>d.addCart(t.product,t.cantidad)),label:"A\xF1adir al carrito",icon:"add_shopping_cart",class:"full-width",color:"blue","no-caps":"",dense:""})]),e("div",ke,[n(_,{onClick:o[4]||(o[4]=l=>d.addCart(t.product,t.cantidad,!0)),label:"Comprar ahora",icon:"shopping_cart",class:"full-width",color:"red","no-caps":"",dense:""})]),e("div",qe,[n(_,{onClick:d.share,label:"Compartir",icon:"share",class:"full-width",color:"green","no-caps":"",dense:""},null,8,["onClick"])])])]),e("div",we,[Be,e("div",{class:"text-justify q-px-md",innerHTML:(E=t.product)==null?void 0:E.descripcion},null,8,Qe)]),Se])]}),_:1})}var Te=G(te,[["render",Pe]]);export{Te as default};
