import{c as Y,X as et,Z as ot,a as y,h as v,al as $,t as st,ap as rt,aq as it,aa as nt,f as lt,w as ct,ar as at,as as dt,A as ut,_ as pt,D as b,E as x,F as m,I as r,G as d,at as ht,H as E,T as u,S as _,Q as k,ak as mt,L as U,M as ft,O as G,R as bt}from"./index.c09000ba.js";import{a as gt,Q}from"./QImg.815d8bff.js";import{Q as _t,a as B,b as X}from"./QItem.bdcb64be.js";import{Q as vt}from"./QList.51b2d27b.js";import{Q as yt}from"./QPage.ecbab605.js";var O=Y({name:"QBreadcrumbsEl",props:{...et,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(t,{slots:o}){const{linkTag:s,linkAttrs:i,linkClass:e,navigateOnClick:n}=ot(),l=y(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(t.disable!==!0?"q-link--focusable"+e.value:"q-breadcrumbs__el--disable"),...i.value,onClick:n})),c=y(()=>"q-breadcrumbs__el-icon"+(t.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const p=[];return t.icon!==void 0&&p.push(v($,{class:c.value,name:t.icon})),t.label!==void 0&&p.push(t.label),v(s.value,{...l.value},st(o.default,p))}}});const xt=["",!0];var kt=Y({name:"QBreadcrumbs",props:{...rt,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:t=>["none","xs","sm","md","lg","xl"].includes(t),default:"sm"}},setup(t,{slots:o}){const s=it(t),i=y(()=>`flex items-center ${s.value}${t.gutter==="none"?"":` q-gutter-${t.gutter}`}`),e=y(()=>t.separatorColor?` text-${t.separatorColor}`:""),n=y(()=>` text-${t.activeColor}`);return()=>{const l=nt(lt(o.default));if(l.length===0)return;let c=1;const p=[],f=l.filter(h=>h.type!==void 0&&h.type.name==="QBreadcrumbsEl").length,A=o.separator!==void 0?o.separator:()=>t.separator;return l.forEach(h=>{if(h.type!==void 0&&h.type.name==="QBreadcrumbsEl"){const g=c<f,q=h.props!==null&&xt.includes(h.props.disable),S=(g===!0?"":" q-breadcrumbs--last")+(q!==!0&&g===!0?n.value:"");c++,p.push(v("div",{class:`flex items-center${S}`},[h])),g===!0&&p.push(v("div",{class:"q-breadcrumbs__separator"+e.value},A()))}else p.push(h)}),v("div",{class:"q-breadcrumbs"},[v("div",{class:i.value},p)])}}});const wt=Object.prototype.toString,T=Object.prototype.hasOwnProperty,Ct=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(t=>"[object "+t+"]"));function Z(t){if(t!==Object(t)||Ct.has(wt.call(t))===!0||t.constructor&&T.call(t,"constructor")===!1&&T.call(t.constructor.prototype,"isPrototypeOf")===!1)return!1;let o;for(o in t);return o===void 0||T.call(t,o)}function tt(){let t,o,s,i,e,n,l=arguments[0]||{},c=1,p=!1;const f=arguments.length;for(typeof l=="boolean"&&(p=l,l=arguments[1]||{},c=2),Object(l)!==l&&typeof l!="function"&&(l={}),f===c&&(l=this,c--);c<f;c++)if((t=arguments[c])!==null)for(o in t)s=l[o],i=t[o],l!==i&&(p===!0&&i&&((e=Array.isArray(i))||Z(i)===!0)?(e===!0?n=Array.isArray(s)===!0?s:[]:n=Z(s)===!0?s:{},l[o]=tt(p,n,i)):i!==void 0&&(l[o]=i));return l}let P=null,J;const C=[];function At(t){t.title&&(t.title=t.titleTemplate?t.titleTemplate(t.title):t.title,delete t.titleTemplate),[["meta","content"],["link","href"]].forEach(o=>{const s=t[o[0]],i=o[1];for(const e in s){const n=s[e];n.template&&(Object.keys(n).length===1?delete s[e]:(n[i]=n.template(n[i]||""),delete n.template))}})}function qt(t,o){if(Object.keys(t).length!==Object.keys(o).length)return!0;for(const s in t)if(t[s]!==o[s])return!0}function K(t){return["class","style"].includes(t)===!1}function W(t){return["lang","dir"].includes(t)===!1}function St(t,o){const s={},i={};return t===void 0?{add:o,remove:i}:(t.title!==o.title&&(s.title=o.title),["meta","link","script","htmlAttr","bodyAttr"].forEach(e=>{const n=t[e],l=o[e];if(i[e]=[],n==null){s[e]=l;return}s[e]={};for(const c in n)l.hasOwnProperty(c)===!1&&i[e].push(c);for(const c in l)n.hasOwnProperty(c)===!1?s[e][c]=l[c]:qt(n[c],l[c])===!0&&(i[e].push(c),s[e][c]=l[c])}),{add:s,remove:i})}function Et({add:t,remove:o}){t.title&&(document.title=t.title),Object.keys(o).length!==0&&(["meta","link","script"].forEach(s=>{o[s].forEach(i=>{document.head.querySelector(`${s}[data-qmeta="${i}"]`).remove()})}),o.htmlAttr.filter(W).forEach(s=>{document.documentElement.removeAttribute(s)}),o.bodyAttr.filter(K).forEach(s=>{document.body.removeAttribute(s)})),["meta","link","script"].forEach(s=>{const i=t[s];for(const e in i){const n=document.createElement(s);for(const l in i[e])l!=="innerHTML"&&n.setAttribute(l,i[e][l]);n.setAttribute("data-qmeta",e),s==="script"&&(n.innerHTML=i[e].innerHTML||""),document.head.appendChild(n)}}),Object.keys(t.htmlAttr).filter(W).forEach(s=>{document.documentElement.setAttribute(s,t.htmlAttr[s]||"")}),Object.keys(t.bodyAttr).filter(K).forEach(s=>{document.body.setAttribute(s,t.bodyAttr[s]||"")})}function Pt(){P=null;const t={title:"",titleTemplate:null,meta:{},link:{},script:{},htmlAttr:{},bodyAttr:{}};for(let o=0;o<C.length;o++){const{active:s,val:i}=C[o];s===!0&&tt(!0,t,i)}At(t),Et(St(J,t)),J=t}function w(){P!==null&&clearTimeout(P),P=setTimeout(Pt,50)}function Qt(t){{const o={active:!0};if(typeof t=="function"){const s=y(t);o.val=s.value,ct(s,i=>{o.val=i,o.active===!0&&w()})}else o.val=t;C.push(o),w(),at(()=>{o.active=!0,w()}),dt(()=>{o.active=!1,w()}),ut(()=>{C.splice(C.indexOf(o),1),w()})}}const Bt={name:"DetalleProducto",data(){return{id:this.$route.params.id,product:{},loading:!0,cantidad:1,es_porcentaje:!1,sucursales:[]}},async mounted(){await this.getSucursales(),await this.getProduct()},methods:{async getSucursales(){const t=await this.$axios.get("sucursales");this.sucursales=t.data},async getProduct(){var s,i,e;this.loading=!0,this.$q.loading.show();const t=await this.$axios.get(`productos/${this.id}`);if(this.product=t.data,this.product.porcentaje>0){this.es_porcentaje=!0,this.product.precioNormal=this.product.precio;const n=this.product.precio-this.product.precio*this.product.porcentaje/100;this.product.precio=n.toFixed(2)}this.sucursales.forEach(n=>{n.cantidad=this.product[`cantidadSucursal${n.id}`]}),this.loading=!1,this.$q.loading.hide(),console.log("descripcion",(s=this.product)==null?void 0:s.descripcion);const o=((i=this.product)==null?void 0:i.descripcion)+" Producto disponible en Santidad Divina. Encuentra este y otros productos m\xE9dicos en nuestra farmacia digital, con stock actualizado y atenci\xF3n inmediata."||"Producto disponible en Santidad Divina.";Qt({title:this.product.nombre,description:o,meta:{description:{name:"description",content:o},keywords:{name:"keywords",content:`medicamento, salud, ${this.product.nombre}, ${this.product.marca}, ${(e=this.product)==null?void 0:e.composicion}`},robots:{name:"robots",content:"index, follow"},"og:title":{property:"og:title",content:this.product.nombre},"og:description":{property:"og:description",content:o},"og:image":{property:"og:image",content:this.$url+"../images/"+this.product.imagen},"og:type":{property:"og:type",content:"product"},"og:url":{property:"og:url",content:window.location.href}},link:{canonical:{rel:"canonical",href:window.location.href}}})},addCarrito(t,o){t.cantidad=o,this.$store.addCarrito(t),this.$alert.success("Producto a\xF1adido al carrito")},addCart(t,o,s=!1){const i=`Deseo comprar ${o} ${t.nombre} a Bs. ${t.precio} c/u. Total Bs. ${(t.precio*o).toFixed(2)}`;window.open(`https://wa.me/59172319869?text=${i}`)},share(){const t={title:this.product.nombre,text:this.product.descripcion,url:window.location.href};navigator.share(t).then(()=>console.log("Successful share")).catch(o=>console.log("Error sharing",o))}}},Ot={class:"row"},Tt={class:"col-12"},jt={class:"col-12 col-md-6"},Dt={class:"text-left q-px-md"},Lt={class:"text-h5 q-mb-md"},It=r("h2",{class:"text-h6 q-mt-sm"},"Precio y caracter\xEDsticas",-1),Mt=r("td",{class:"text-bold"},"Precio:",-1),Ft=r("td",{class:"text-bold"},"Unidad:",-1),Nt=r("td",{class:"text-bold"},"Stock:",-1),Vt=r("td",{class:"text-bold"},"Principio activo:",-1),Ht=r("td",{class:"text-bold"},"Distribuidora:",-1),zt=r("td",{class:"text-bold"},"Laboratorio:",-1),Rt=r("td",{class:"text-bold"},"Pa\xEDs origen:",-1),Ut=r("td",{class:"text-bold"},"Registro sanitario:",-1),Gt={class:"row"},Xt={class:"col-9 flex flex-center"},Zt=r("span",{class:"text-bold"},"Cantidad:",-1),Jt={class:"text-bold"},Kt={class:"col-3 bg-grey-4 text-right"},Wt=r("label",{class:"text-bold"},"Total",-1),Yt={class:"text-bold"},$t={class:"col-4 q-pa-xs"},te={class:"col-4 q-pa-xs"},ee={class:"col-4 q-pa-xs"},oe={class:"q-pt-xs"},se=r("h3",{class:"text-h6 text-blue"},"Disponible en las siguientes sucursales",-1),re={class:"col-12"},ie=r("h2",{class:"text-h6"},"Descripci\xF3n",-1),ne=["innerHTML"],le=r("div",{class:"col-12"},[r("h3",{class:"text-h6"},"Productos relacionados")],-1);function ce(t,o,s,i,e,n){return b(),x(yt,{class:"bg-grey-3 q-pa-md"},{default:m(()=>{var l,c,p,f,A,h,g,q,S,j,D,L,I,M,F,N,V,H;return[r("div",Ot,[r("div",Tt,[d(kt,null,{default:m(()=>{var a;return[d(O,{label:"Inicio",to:"/"}),d(O,{label:"Productos",to:"/"}),d(O,{label:(a=e.product)==null?void 0:a.nombre},null,8,["label"])]}),_:1})]),r("div",{class:ht(`col-12 col-md-6 ${t.$q.screen.lt.md?"text-center":"text-right"}`)},[(l=e.product)!=null&&l.imagen?(b(),x(gt,{key:0,src:(c=e.product)!=null&&c.imagen.includes("http")?(p=e.product)==null?void 0:p.imagen:`${t.$url}../images/${(f=e.product)==null?void 0:f.imagen}`,"spinner-color":"white",style:{border:"2px solid #496aec","border-radius":"5px"},width:"250px","spinner-size":"40px"},null,8,["src"])):E("",!0)],2),r("div",jt,[r("div",Dt,[r("h1",Lt,u((A=e.product)==null?void 0:A.nombre),1),It,r("table",null,[r("tr",null,[Mt,r("td",null,[_(" Bs. "+u((h=e.product)==null?void 0:h.precio)+" ",1),e.es_porcentaje?(b(),x(Q,{key:0,color:"red"},{default:m(()=>{var a,z,R;return[_(" Descuento "+u((a=e.product)==null?void 0:a.porcentaje)+"% - Bs. "+u((((z=e.product)==null?void 0:z.precio)*((R=e.product)==null?void 0:R.porcentaje)/100).toFixed(2)),1)]}),_:1})):E("",!0),e.es_porcentaje?(b(),x(Q,{key:1,color:"green"},{default:m(()=>{var a;return[_(" Bs. "+u((a=e.product)==null?void 0:a.precioNormal),1)]}),_:1})):E("",!0)])]),r("tr",null,[Ft,r("td",null,u((g=e.product)==null?void 0:g.unidad),1)]),r("tr",null,[Nt,r("td",null,u(((q=e.product)==null?void 0:q.cantidad)>100?"100":(S=e.product)==null?void 0:S.cantidad),1)]),r("tr",null,[Vt,r("td",null,u((j=e.product)==null?void 0:j.composicion),1)]),r("tr",null,[Ht,r("td",null,u((D=e.product)==null?void 0:D.distribuidora),1)]),r("tr",null,[zt,r("td",null,u((L=e.product)==null?void 0:L.marca),1)]),r("tr",null,[Rt,r("td",null,u((I=e.product)==null?void 0:I.paisOrigen),1)]),r("tr",null,[Ut,r("td",null,u((M=e.product)==null?void 0:M.registroSanitario),1)])])]),r("div",Gt,[r("div",Xt,[Zt,d(k,{onClick:o[0]||(o[0]=a=>e.cantidad=e.cantidad-1),icon:"remove",dense:"",round:"",color:"primary",disable:e.cantidad<=1},null,8,["disable"]),d(mt,{modelValue:e.cantidad,"onUpdate:modelValue":o[1]||(o[1]=a=>e.cantidad=a),type:"number",min:"1",class:"text-center text-bold",outlined:"",dense:"",style:{width:"100px"}},null,8,["modelValue"]),d(k,{onClick:o[2]||(o[2]=a=>e.cantidad=e.cantidad+1),icon:"add",dense:"",round:"",color:"primary",disable:e.cantidad>=((F=e.product)==null?void 0:F.cantidad)},null,8,["disable"]),r("span",Jt,u((N=e.product)==null?void 0:N.unidad),1)]),r("div",Kt,[Wt,r("div",Yt,[_("Bs. "),r("span",null,u((((V=e.product)==null?void 0:V.precio)*e.cantidad).toFixed(2)),1)])]),r("div",$t,[d(k,{onClick:o[3]||(o[3]=a=>n.addCarrito(e.product,e.cantidad)),label:"A\xF1adir al carrito",icon:"add_shopping_cart",class:"full-width",color:"blue","no-caps":"",dense:""})]),r("div",te,[d(k,{onClick:o[4]||(o[4]=a=>n.addCart(e.product,e.cantidad,!0)),label:"Comprar ahora",icon:"shopping_cart",class:"full-width",color:"red","no-caps":"",dense:""})]),r("div",ee,[d(k,{onClick:n.share,label:"Compartir",icon:"share",class:"full-width",color:"green","no-caps":"",dense:""},null,8,["onClick"])])]),r("div",oe,[se,d(vt,{dense:""},{default:m(()=>[(b(!0),U(G,null,ft(e.sucursales,a=>(b(),U(G,{key:a.id},[a.cantidad>0?(b(),x(_t,{key:0},{default:m(()=>[d(B,{avatar:""},{default:m(()=>[d(bt,null,{default:m(()=>[d($,{name:"store"})]),_:1})]),_:1}),d(B,null,{default:m(()=>[d(X,null,{default:m(()=>[_(u(a.nombre),1)]),_:2},1024),d(X,{caption:""},{default:m(()=>[_(u(a.direccion),1)]),_:2},1024)]),_:2},1024),d(B,{side:""},{default:m(()=>[d(Q,{color:"green",label:"Disponible"})]),_:1})]),_:2},1024)):E("",!0)],64))),128))]),_:1})])]),r("div",re,[ie,r("div",{class:"text-justify q-px-md",innerHTML:(H=e.product)==null?void 0:H.descripcion},null,8,ne)]),le])]}),_:1})}var me=pt(Bt,[["render",ce]]);export{me as default};
