import{c as L,p as A,q as I,a as g,h as b,Q as z,l as F,av as M,aw as R,ac as U,e as H,_ as O,T as y,U as k,V as q,a0 as e,W as n,ax as W,aq as N,at as r,as as w,$ as _,ao as G}from"./index.3c4d8ac6.js";import{Q as J}from"./QImg.4e804663.js";import{Q as K}from"./QBadge.94c445da.js";import{Q as X}from"./QPage.7d1e11f1.js";var Q=L({name:"QBreadcrumbsEl",props:{...A,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(s,{slots:o}){const{linkTag:m,linkAttrs:p,linkClass:t,navigateOnClick:d}=I(),c=g(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(s.disable!==!0?"q-link--focusable"+t.value:"q-breadcrumbs__el--disable"),...p.value,onClick:d})),u=g(()=>"q-breadcrumbs__el-icon"+(s.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const i=[];return s.icon!==void 0&&i.push(b(z,{class:u.value,name:s.icon})),s.label!==void 0&&i.push(s.label),b(m.value,{...c.value},F(o.default,i))}}});const Y=["",!0];var Z=L({name:"QBreadcrumbs",props:{...M,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:s=>["none","xs","sm","md","lg","xl"].includes(s),default:"sm"}},setup(s,{slots:o}){const m=R(s),p=g(()=>`flex items-center ${m.value}${s.gutter==="none"?"":` q-gutter-${s.gutter}`}`),t=g(()=>s.separatorColor?` text-${s.separatorColor}`:""),d=g(()=>` text-${s.activeColor}`);return()=>{const c=U(H(o.default));if(c.length===0)return;let u=1;const i=[],x=c.filter(l=>l.type!==void 0&&l.type.name==="QBreadcrumbsEl").length,v=o.separator!==void 0?o.separator:()=>s.separator;return c.forEach(l=>{if(l.type!==void 0&&l.type.name==="QBreadcrumbsEl"){const h=u<x,f=l.props!==null&&Y.includes(l.props.disable),C=(h===!0?"":" q-breadcrumbs--last")+(f!==!0&&h===!0?d.value:"");u++,i.push(b("div",{class:`flex items-center${C}`},[l])),h===!0&&i.push(b("div",{class:"q-breadcrumbs__separator"+t.value},v()))}else i.push(l)}),b("div",{class:"q-breadcrumbs"},[b("div",{class:p.value},i)])}}});const $={name:"DetalleProducto",data(){return{id:this.$route.params.id,product:{},loading:!0,cantidad:1,es_porcentaje:!1}},mounted(){this.getProduct()},methods:{async getProduct(){this.loading=!0,this.$q.loading.show();const s=await this.$axios.get(`productos/${this.id}`);if(this.product=s.data,this.product.porcentaje>0){this.es_porcentaje=!0;const o=this.product.precio-this.product.precio*this.product.porcentaje/100;this.product.precio=o.toFixed(2)}this.loading=!1,this.$q.loading.hide()},addCart(s,o,m=!1){const p=`Deseo comprar ${o} ${s.nombre} a Bs. ${s.precio} c/u. Total Bs. ${(s.precio*o).toFixed(2)}`;window.open(`https://wa.me/59172319869?text=${p}`)},share(){const s={title:this.product.nombre,text:this.product.descripcion,url:window.location.href};navigator.share(s).then(()=>console.log("Successful share")).catch(o=>console.log("Error sharing",o))}}},ee={class:"row"},te={class:"col-12"},se={class:"col-12 col-md-6"},oe={class:"text-left q-px-md"},le={class:"text-h6"},re=e("td",{class:"text-bold"},"Precio:",-1),ie=e("td",{class:"text-bold"},"Unidad:",-1),ae=e("td",{class:"text-bold"},"Stock:",-1),ne=e("td",{class:"text-bold"},"Principio activo:",-1),ce=e("td",{class:"text-bold"},"Distribuidora:",-1),de=e("td",{class:"text-bold"},"Laboratorio:",-1),ue=e("td",{class:"text-bold"},"Pais origen:",-1),pe=e("td",{class:"text-bold"},"Registro sanitario:",-1),he={class:"row"},be={class:"col-9 flex flex-center"},me=e("span",{class:"text-bold"},"Cantidad:",-1),_e={class:"text-bold"},ge={class:"col-3 bg-grey-4 text-right"},xe=e("label",{class:"text-bold"},"Total",-1),ve={class:"text-bold justify-between"},fe={class:"col-4 q-pa-xs"},Ce={class:"col-4 q-pa-xs"},ye={class:"col-4 q-pa-xs"},ke={class:"col-12"},qe=e("label",{class:"text-bold text-h6"},"Descripci\xF3n:",-1),we=["innerHTML"],Qe=e("div",{class:"col-12"},[e("label",{class:"text-bold text-h6"},"Productos relacionados:")],-1);function Be(s,o,m,p,t,d){return y(),k(X,{class:"bg-grey-3 q-pa-md"},{default:q(()=>{var c,u,i,x,v,l,h,f,C,B,S,P,V,j,D,T,E;return[e("div",ee,[e("div",te,[n(Z,null,{default:q(()=>{var a;return[n(Q,{label:"Inicio",to:"/"}),n(Q,{label:"Productos",to:"/"}),n(Q,{label:(a=t.product)==null?void 0:a.nombre},null,8,["label"])]}),_:1})]),e("div",{class:W(`col-12 col-md-6 ${s.$q.screen.lt.md?"text-center":"text-right"}`)},[(c=t.product)!=null&&c.imagen?(y(),k(J,{key:0,src:(u=t.product)!=null&&u.imagen.includes("http")?(i=t.product)==null?void 0:i.imagen:`${s.$url}../images/${(x=t.product)==null?void 0:x.imagen}`,"spinner-color":"white",style:{border:"2px solid #496aec","border-radius":"5px"},width:"250px","spinner-size":"40px"},null,8,["src"])):N("",!0)],2),e("div",se,[e("div",oe,[e("div",le,r((v=t.product)==null?void 0:v.nombre),1),e("table",null,[e("tr",null,[re,e("td",null,[w(" Bs. "+r((l=t.product)==null?void 0:l.precio)+" ",1),t.es_porcentaje?(y(),k(K,{key:0,color:"red"},{default:q(()=>{var a;return[w(" Descuento "+r((a=t.product)==null?void 0:a.porcentaje)+"% ",1)]}),_:1})):N("",!0)])]),e("tr",null,[ie,e("td",null,r((h=t.product)==null?void 0:h.unidad),1)]),e("tr",null,[ae,e("td",null,r((f=t.product)==null?void 0:f.cantidad),1)]),e("tr",null,[ne,e("td",null,r((C=t.product)==null?void 0:C.composicion),1)]),e("tr",null,[ce,e("td",null,r((B=t.product)==null?void 0:B.distribuidora),1)]),e("tr",null,[de,e("td",null,r((S=t.product)==null?void 0:S.marca),1)]),e("tr",null,[ue,e("td",null,r((P=t.product)==null?void 0:P.paisOrigen),1)]),e("tr",null,[pe,e("td",null,r((V=t.product)==null?void 0:V.registroSanitario),1)])])]),e("div",he,[e("div",be,[me,n(_,{onClick:o[0]||(o[0]=a=>t.cantidad=t.cantidad-1),icon:"remove",dense:"",round:"",color:"primary",disable:t.cantidad<=1},null,8,["disable"]),n(G,{modelValue:t.cantidad,"onUpdate:modelValue":o[1]||(o[1]=a=>t.cantidad=a),type:"number",min:"1",class:"text-center text-bold",outlined:"",dense:"",style:{"text-align":"center",width:"100px"}},null,8,["modelValue"]),n(_,{onClick:o[2]||(o[2]=a=>t.cantidad=t.cantidad+1),icon:"add",dense:"",round:"",color:"primary",disable:t.cantidad>=((j=t.product)==null?void 0:j.cantidad)},null,8,["disable"]),e("span",_e,r((D=t.product)==null?void 0:D.unidad),1)]),e("div",ge,[xe,e("div",ve,[w(" Bs. "),e("span",null,r((((T=t.product)==null?void 0:T.precio)*t.cantidad).toFixed(2)),1)])]),e("div",fe,[n(_,{onClick:o[3]||(o[3]=a=>d.addCart(t.product,t.cantidad)),label:"A\xF1adir al carrito",icon:"add_shopping_cart",class:"full-width",color:"blue","no-caps":"",dense:""})]),e("div",Ce,[n(_,{onClick:o[4]||(o[4]=a=>d.addCart(t.product,t.cantidad,!0)),label:"Comprar ahora",icon:"shopping_cart",class:"full-width",color:"red","no-caps":"",dense:""})]),e("div",ye,[n(_,{onClick:d.share,label:"Compartir",icon:"share",class:"full-width",color:"green","no-caps":"",dense:""},null,8,["onClick"])])])]),e("div",ke,[qe,e("div",{class:"text-justify q-px-md",innerHTML:(E=t.product)==null?void 0:E.descripcion},null,8,we)]),Qe])]}),_:1})}var De=O($,[["render",Be]]);export{De as default};
