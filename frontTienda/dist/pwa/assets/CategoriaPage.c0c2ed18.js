import{Q as $}from"./QSkeleton.7841a267.js";import{c as ne,a as B,h as H,f as le,aA as je,r as V,am as Ve,aB as ge,q as Oe,aC as ve,w as M,o as Te,m as ie,g as se,aD as Ke,s as oe,aE as be,aF as Ge,y as Ue,ar as Xe,ae as Ye,aG as He,as as Je,af as Ze,aH as $e,aI as et,aJ as tt,au as ot,aK as at,aL as nt,aM as lt,aN as it,aO as ye,u as st,aP as rt,a1 as ut,aQ as ct,aR as dt,aS as ft,al as ht,aT as Ne,at as mt,aU as gt,I as A,Q as N,aV as vt,_ as bt,D as m,E as S,F as x,G as b,S as q,M as k,Z as pe,H as v,T as F,O as K,P as ee,av as xe,V as P,ak as we,W as yt,X as pt,$ as xt,a0 as wt}from"./index.5effc10a.js";import{Q as _t,a as _e,b as j}from"./QList.473be783.js";import{Q as kt}from"./QSpinnerDots.105b468b.js";import{Q as St}from"./QBadge.df07c94b.js";import{Q as Pt}from"./QImg.ff3d7b43.js";import{Q as Ct}from"./QPage.0698cd62.js";var qt=ne({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:o}){const l=B(()=>{const a=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(t=>e[t]===!0).map(t=>`q-btn-group--${t}`).join(" ");return`q-btn-group row no-wrap${a.length!==0?" "+a:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>H("div",{class:l.value},le(o.default))}});function Bt(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),je.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Tt={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Ht({showing:e,avoidEmit:o,configureAnchorEl:l}){const{props:a,proxy:t,emit:i}=se(),n=V(null);let f=null;function g(s){return n.value===null?!1:s===void 0||s.touches===void 0||s.touches.length<=1}const c={};l===void 0&&(Object.assign(c,{hide(s){t.hide(s)},toggle(s){t.toggle(s),s.qAnchorHandled=!0},toggleKey(s){Ve(s,13)===!0&&c.toggle(s)},contextClick(s){t.hide(s),ge(s),Oe(()=>{t.show(s),s.qAnchorHandled=!0})},prevent:ge,mobileTouch(s){if(c.mobileCleanup(s),g(s)!==!0)return;t.hide(s),n.value.classList.add("non-selectable");const d=s.target;ve(c,"anchor",[[d,"touchmove","mobileCleanup","passive"],[d,"touchend","mobileCleanup","passive"],[d,"touchcancel","mobileCleanup","passive"],[n.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,t.show(s),s.qAnchorHandled=!0},300)},mobileCleanup(s){n.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&s!==void 0&&Bt()}}),l=function(s=a.contextMenu){if(a.noParentEvent===!0||n.value===null)return;let d;s===!0?t.$q.platform.is.mobile===!0?d=[[n.value,"touchstart","mobileTouch","passive"]]:d=[[n.value,"mousedown","hide","passive"],[n.value,"contextmenu","contextClick","notPassive"]]:d=[[n.value,"click","toggle","passive"],[n.value,"keyup","toggleKey","passive"]],ve(c,"anchor",d)});function h(){Ke(c,"anchor")}function w(s){for(n.value=s;n.value.classList.contains("q-anchor--skip");)n.value=n.value.parentNode;l()}function _(){if(a.target===!1||a.target===""||t.$el.parentNode===null)n.value=null;else if(a.target===!0)w(t.$el.parentNode);else{let s=a.target;if(typeof a.target=="string")try{s=document.querySelector(a.target)}catch{s=void 0}s!=null?(n.value=s.$el||s,l()):(n.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return M(()=>a.contextMenu,s=>{n.value!==null&&(h(),l(s))}),M(()=>a.target,()=>{n.value!==null&&h(),_()}),M(()=>a.noParentEvent,s=>{n.value!==null&&(s===!0?h():l())}),Te(()=>{_(),o!==!0&&a.modelValue===!0&&n.value===null&&i("update:modelValue",!1)}),ie(()=>{f!==null&&clearTimeout(f),h()}),{anchorEl:n,canShow:g,anchorEvents:c}}function Nt(e,o){const l=V(null);let a;function t(f,g){const c=`${g!==void 0?"add":"remove"}EventListener`,h=g!==void 0?g:a;f!==window&&f[c]("scroll",h,oe.passive),window[c]("scroll",h,oe.passive),a=g}function i(){l.value!==null&&(t(l.value),l.value=null)}const n=M(()=>e.noParentEvent,()=>{l.value!==null&&(i(),o())});return ie(n),{localScrollTarget:l,unconfigureScrollTarget:i,changeScrollEvent:t}}const{notPassiveCapture:G}=oe,D=[];function U(e){const o=e.target;if(o===void 0||o.nodeType===8||o.classList.contains("no-pointer-events")===!0)return;let l=be.length-1;for(;l>=0;){const a=be[l].$;if(a.type.name==="QTooltip"){l--;continue}if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;l--}for(let a=D.length-1;a>=0;a--){const t=D[a];if((t.anchorEl.value===null||t.anchorEl.value.contains(o)===!1)&&(o===document.body||t.innerRef.value!==null&&t.innerRef.value.contains(o)===!1))e.qClickOutside=!0,t.onClickOutside(e);else return}}function Et(e){D.push(e),D.length===1&&(document.addEventListener("mousedown",U,G),document.addEventListener("touchstart",U,G))}function ke(e){const o=D.findIndex(l=>l===e);o>-1&&(D.splice(o,1),D.length===0&&(document.removeEventListener("mousedown",U,G),document.removeEventListener("touchstart",U,G)))}let Se,Pe;function Ce(e){const o=e.split(" ");return o.length!==2?!1:["top","center","bottom"].includes(o[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(o[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function At(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ae={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ae[`${e}#ltr`]=e,ae[`${e}#rtl`]=e});function qe(e,o){const l=e.split(" ");return{vertical:l[0],horizontal:ae[`${l[1]}#${o===!0?"rtl":"ltr"}`]}}function Mt(e,o){let{top:l,left:a,right:t,bottom:i,width:n,height:f}=e.getBoundingClientRect();return o!==void 0&&(l-=o[1],a-=o[0],i+=o[1],t+=o[0],n+=o[0],f+=o[1]),{top:l,bottom:i,height:f,left:a,right:t,width:n,middle:a+(t-a)/2,center:l+(i-l)/2}}function It(e,o,l){let{top:a,left:t}=e.getBoundingClientRect();return a+=o.top,t+=o.left,l!==void 0&&(a+=l[1],t+=l[0]),{top:a,bottom:a+1,height:1,left:t,right:t+1,width:1,middle:t,center:a}}function Dt(e,o){return{top:0,center:o/2,bottom:o,left:0,middle:e/2,right:e}}function Be(e,o,l,a){return{top:e[l.vertical]-o[a.vertical],left:e[l.horizontal]-o[a.horizontal]}}function Ee(e,o=0){if(e.targetEl===null||e.anchorEl===null||o>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Ee(e,o+1)},10);return}const{targetEl:l,offset:a,anchorEl:t,anchorOrigin:i,selfOrigin:n,absoluteOffset:f,fit:g,cover:c,maxHeight:h,maxWidth:w}=e;if(Ge.is.ios===!0&&window.visualViewport!==void 0){const R=document.body.style,{offsetLeft:C,offsetTop:T}=window.visualViewport;C!==Se&&(R.setProperty("--q-pe-left",C+"px"),Se=C),T!==Pe&&(R.setProperty("--q-pe-top",T+"px"),Pe=T)}const{scrollLeft:_,scrollTop:s}=l,d=f===void 0?Mt(t,c===!0?[0,0]:a):It(t,f,a);Object.assign(l.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:w||"100vw",maxHeight:h||"100vh",visibility:"visible"});const{offsetWidth:Q,offsetHeight:I}=l,{elWidth:L,elHeight:z}=g===!0||c===!0?{elWidth:Math.max(d.width,Q),elHeight:c===!0?Math.max(d.height,I):I}:{elWidth:Q,elHeight:I};let y={maxWidth:w,maxHeight:h};(g===!0||c===!0)&&(y.minWidth=d.width+"px",c===!0&&(y.minHeight=d.height+"px")),Object.assign(l.style,y);const r=Dt(L,z);let p=Be(d,r,i,n);if(f===void 0||a===void 0)te(p,d,r,i,n);else{const{top:R,left:C}=p;te(p,d,r,i,n);let T=!1;if(p.top!==R){T=!0;const E=2*a[1];d.center=d.top-=E,d.bottom-=E+2}if(p.left!==C){T=!0;const E=2*a[0];d.middle=d.left-=E,d.right-=E+2}T===!0&&(p=Be(d,r,i,n),te(p,d,r,i,n))}y={top:p.top+"px",left:p.left+"px"},p.maxHeight!==void 0&&(y.maxHeight=p.maxHeight+"px",d.height>p.maxHeight&&(y.minHeight=y.maxHeight)),p.maxWidth!==void 0&&(y.maxWidth=p.maxWidth+"px",d.width>p.maxWidth&&(y.minWidth=y.maxWidth)),Object.assign(l.style,y),l.scrollTop!==s&&(l.scrollTop=s),l.scrollLeft!==_&&(l.scrollLeft=_)}function te(e,o,l,a,t){const i=l.bottom,n=l.right,f=Ue(),g=window.innerHeight-f,c=document.body.clientWidth;if(e.top<0||e.top+i>g)if(t.vertical==="center")e.top=o[a.vertical]>g/2?Math.max(0,g-i):0,e.maxHeight=Math.min(i,g);else if(o[a.vertical]>g/2){const h=Math.min(g,a.vertical==="center"?o.center:a.vertical===t.vertical?o.bottom:o.top);e.maxHeight=Math.min(i,h),e.top=Math.max(0,h-i)}else e.top=Math.max(0,a.vertical==="center"?o.center:a.vertical===t.vertical?o.top:o.bottom),e.maxHeight=Math.min(i,g-e.top);if(e.left<0||e.left+n>c)if(e.maxWidth=Math.min(n,c),t.horizontal==="middle")e.left=o[a.horizontal]>c/2?Math.max(0,c-n):0;else if(o[a.horizontal]>c/2){const h=Math.min(c,a.horizontal==="middle"?o.middle:a.horizontal===t.horizontal?o.right:o.left);e.maxWidth=Math.min(n,h),e.left=Math.max(0,h-e.maxWidth)}else e.left=Math.max(0,a.horizontal==="middle"?o.middle:a.horizontal===t.horizontal?o.left:o.right),e.maxWidth=Math.min(n,c-e.left)}var Wt=ne({name:"QMenu",inheritAttrs:!1,props:{...Tt,...Xe,...Ye,...He,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ce},self:{type:String,validator:Ce},offset:{type:Array,validator:At},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Je,"click","escapeKey"],setup(e,{slots:o,emit:l,attrs:a}){let t=null,i,n,f;const g=se(),{proxy:c}=g,{$q:h}=c,w=V(null),_=V(!1),s=B(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),d=Ze(e,h),{registerTick:Q,removeTick:I}=$e(),{registerTimeout:L}=et(),{transitionProps:z,transitionStyle:y}=tt(e),{localScrollTarget:r,changeScrollEvent:p,unconfigureScrollTarget:R}=Nt(e,he),{anchorEl:C,canShow:T}=Ht({showing:_}),{hide:E}=ot({showing:_,canShow:T,handleShow:We,handleHide:Qe,hideOnRouteChange:s,processOnMount:!0}),{showPortal:re,hidePortal:ue,renderPortal:Ae}=at(g,w,ze,"menu"),X={anchorEl:C,innerRef:w,onClickOutside(u){if(e.persistent!==!0&&_.value===!0)return E(u),(u.type==="touchstart"||u.target.classList.contains("q-dialog__backdrop"))&&ht(u),!0}},ce=B(()=>qe(e.anchor||(e.cover===!0?"center middle":"bottom start"),h.lang.rtl)),Me=B(()=>e.cover===!0?ce.value:qe(e.self||"top start",h.lang.rtl)),Ie=B(()=>(e.square===!0?" q-menu--square":"")+(d.value===!0?" q-menu--dark q-dark":"")),De=B(()=>e.autoClose===!0?{onClick:Le}:{}),de=B(()=>_.value===!0&&e.persistent!==!0);M(de,u=>{u===!0?(ct(J),Et(X)):(ye(J),ke(X))});function Y(){dt(()=>{let u=w.value;u&&u.contains(document.activeElement)!==!0&&(u=u.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||u.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||u.querySelector("[autofocus], [data-autofocus]")||u,u.focus({preventScroll:!0}))})}function We(u){if(t=e.noRefocus===!1?document.activeElement:null,nt(me),re(),he(),i=void 0,u!==void 0&&(e.touchPosition||e.contextMenu)){const Z=lt(u);if(Z.left!==void 0){const{top:Re,left:Fe}=C.value.getBoundingClientRect();i={left:Z.left-Fe,top:Z.top-Re}}}n===void 0&&(n=M(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,O)),e.noFocus!==!0&&document.activeElement.blur(),Q(()=>{O(),e.noFocus!==!0&&Y()}),L(()=>{h.platform.is.ios===!0&&(f=e.autoClose,w.value.click()),O(),re(!0),l("show",u)},e.transitionDuration)}function Qe(u){I(),ue(),fe(!0),t!==null&&(u===void 0||u.qClickOutside!==!0)&&(((u&&u.type.indexOf("key")===0?t.closest('[tabindex]:not([tabindex^="-"])'):void 0)||t).focus(),t=null),L(()=>{ue(!0),l("hide",u)},e.transitionDuration)}function fe(u){i=void 0,n!==void 0&&(n(),n=void 0),(u===!0||_.value===!0)&&(it(me),R(),ke(X),ye(J)),u!==!0&&(t=null)}function he(){(C.value!==null||e.scrollTarget!==void 0)&&(r.value=st(C.value,e.scrollTarget),p(r.value,O))}function Le(u){f!==!0?(rt(c,u),l("click",u)):f=!1}function me(u){de.value===!0&&e.noFocus!==!0&&ft(w.value,u.target)!==!0&&Y()}function J(u){l("escapeKey"),E(u)}function O(){Ee({targetEl:w.value,offset:e.offset,anchorEl:C.value,anchorOrigin:ce.value,selfOrigin:Me.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ze(){return H(ut,z.value,()=>_.value===!0?H("div",{role:"menu",...a,ref:w,tabindex:-1,class:["q-menu q-position-engine scroll"+Ie.value,a.class],style:[a.style,y.value],...De.value},le(o.default)):null)}return ie(fe),Object.assign(c,{focus:Y,updatePosition:O}),Ae}});const Qt=Object.keys(Ne),Lt=e=>Qt.reduce((o,l)=>{const a=e[l];return a!==void 0&&(o[l]=a),o},{});var zt=ne({name:"QBtnDropdown",props:{...Ne,...He,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:o,emit:l}){const{proxy:a}=se(),t=V(e.modelValue),i=V(null),n=mt(),f=B(()=>{const r={"aria-expanded":t.value===!0?"true":"false","aria-haspopup":"true","aria-controls":n,"aria-label":e.toggleAriaLabel||a.$q.lang.label[t.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(r["aria-disabled"]="true"),r}),g=B(()=>"q-btn-dropdown__arrow"+(t.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),c=B(()=>gt(e)),h=B(()=>Lt(e));M(()=>e.modelValue,r=>{i.value!==null&&i.value[r?"show":"hide"]()}),M(()=>e.split,y);function w(r){t.value=!0,l("beforeShow",r)}function _(r){l("show",r),l("update:modelValue",!0)}function s(r){t.value=!1,l("beforeHide",r)}function d(r){l("hide",r),l("update:modelValue",!1)}function Q(r){l("click",r)}function I(r){vt(r),y(),l("click",r)}function L(r){i.value!==null&&i.value.toggle(r)}function z(r){i.value!==null&&i.value.show(r)}function y(r){i.value!==null&&i.value.hide(r)}return Object.assign(a,{show:z,hide:y,toggle:L}),Te(()=>{e.modelValue===!0&&z()}),()=>{const r=[H(A,{class:g.value,name:e.dropdownIcon||a.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&r.push(H(Wt,{ref:i,id:n,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:w,onShow:_,onBeforeHide:s,onHide:d},o.default)),e.split===!1?H(N,{class:"q-btn-dropdown q-btn-dropdown--simple",...h.value,...f.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:Q},{default:()=>le(o.label,[]).concat(r),loading:o.loading}):H(qt,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...c.value,glossy:e.glossy,stretch:e.stretch},()=>[H(N,{class:"q-btn-dropdown--current",...h.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:I},{default:o.label,loading:o.loading}),H(N,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...f.value,...c.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>r)])}}});const Rt={name:"CategoriaPage",props:{id:{type:[String,Number],required:!0}},data(){return{productos:[],subcategorias:[],loadingSubcats:!1,categoriaNombre:"",subNombre:"",subId:null,currentPage:1,totalPages:1,isFetched:!1,itemsPerPage:20}},async mounted(){await this.fetchCategoria(),await this.fetchSubcategorias(),await this.fetchProductos()},watch:{id(){this.currentPage=1,this.subId=null,this.subNombre="",this.fetchCategoria(),this.fetchSubcategorias(),this.fetchProductos()}},methods:{async fetchCategoria(){try{const{data:e}=await this.$axios.get(`categories/${this.id}`);this.categoriaNombre=e.name}catch{this.categoriaNombre="Desconocida"}},async fetchSubcategorias(){this.loadingSubcats=!0;try{const{data:e}=await this.$axios.get("subcategories",{params:{category_id:this.id}}),o=Array.isArray(e)?e:e.data||[],l=Number(this.id);this.subcategorias=o.filter(a=>Number(a.category_id)===l),this.setSubNombre()}catch{this.subcategorias=[],this.subNombre=""}finally{this.loadingSubcats=!1}},setSubNombre(){if(!this.subId&&this.subId!==0){this.subNombre="";return}const e=this.subcategorias.find(o=>Number(o.id)===Number(this.subId));this.subNombre=e?e.name:""},async fetchProductos(){this.loading=!0,this.isFetched=!1,this.productos=[];try{const o=(await this.$axios.get("productsSale",{params:{category:this.id,page:this.currentPage,subcategory_id:this.subId||void 0,subcategory:this.subId||void 0}})).data.products,l=o&&o.data?o.data:[];l.length>0?(this.productos=l.map(a=>{const t={...a};return t.imagen=t.imagen||"noimagen.jpg",Number(t.porcentaje)>0&&(t.precioNormal=t.precio,t.precio=(t.precio-t.precio*t.porcentaje/100).toFixed(2)),t}),this.totalPages=o.last_page||1):(this.productos=[],this.totalPages=1)}catch(e){console.error("Error al cargar productos:",e),this.productos=[],this.totalPages=1}finally{this.loading=!1,this.isFetched=!0}},seleccionarSubcat(e){this.subId=e,this.currentPage=1,this.setSubNombre(),this.fetchProductos()},cambiarPagina(e){e<1||e>this.totalPages||(this.currentPage=e,this.fetchProductos())},resolverImagen(e){const o=e==null?void 0:e.imagen;return o?o.includes("http")?o:`${this.$url}../images/${o}`:`${this.$url}../images/noimagen.jpg`},clickDetalleProducto(e){this.$router.push("/detalle-producto/"+e.id+"/"+this.espacioCambioGuion(e.nombre))},espacioCambioGuion(e){return e.replace(/ |\/|\./g,"-").replace(/,/g,"")}}},W=e=>(xt("data-v-172f42a1"),e=e(),wt(),e),Ft={class:"sidebar-subcats"},jt=W(()=>b("div",{class:"aside-title"},"Subcategor\xEDas",-1)),Vt=["onClick"],Ot={key:0,class:"subcat-empty"},Kt={class:"subcats-mobile"},Gt={class:"page-wrapper q-pa-md contenido"},Ut={class:"text-h5 titulo"},Xt={key:0,class:"chip"},Yt={key:0,class:"pagination-controls text-center q-mt-lg"},Jt={key:1,class:"text-center q-mt-lg"},Zt={key:2,class:"text-center q-mt-lg"},$t=W(()=>b("div",{class:"text-h6 q-mt-md"},"No hay productos en esta categor\xEDa",-1)),eo={key:3,class:"contenedor-productos"},to={class:"products-grid"},oo={key:0,class:"out-of-stock-overlay"},ao=W(()=>b("span",{class:"out-of-stock-text"},"Sin Stock",-1)),no=[ao],lo={class:"product-name"},io={class:"product-prices"},so={key:0,class:"price-old"},ro=W(()=>b("span",null,"Antes",-1)),uo=W(()=>b("br",null,null,-1)),co={class:"price-now"},fo=W(()=>b("span",null,"Ahora",-1)),ho=W(()=>b("br",null,null,-1)),mo={key:0,class:"pagination-controls text-center q-mt-lg"};function go(e,o,l,a,t,i){return m(),S(Ct,{class:"q-pa-none"},{default:x(()=>[b("aside",Ft,[jt,t.loadingSubcats?(m(),S($,{key:0,type:"text",class:"q-mb-sm"})):q("",!0),t.loadingSubcats?(m(),S($,{key:1,type:"text",class:"q-mb-sm"})):q("",!0),t.loadingSubcats?(m(),S($,{key:2,type:"text",class:"q-mb-sm"})):(m(),k(K,{key:3},[b("div",{class:pe(["subcat-item",{active:t.subId===null}]),onClick:o[0]||(o[0]=n=>i.seleccionarSubcat(null))},[v(A,{name:"grid_view",size:"18px",class:"q-mr-sm"}),F(" Todas ")],2),(m(!0),k(K,null,ee(t.subcategorias,n=>(m(),k("div",{key:n.id,class:pe(["subcat-item",{active:Number(t.subId)===Number(n.id)}]),onClick:f=>i.seleccionarSubcat(n.id)},[v(A,{name:"label",size:"18px",class:"q-mr-sm"}),F(" "+P(n.name),1)],10,Vt))),128)),t.subcategorias.length?q("",!0):(m(),k("div",Ot,"(Sin subcategor\xEDas)"))],64))]),b("div",Kt,[v(zt,{outline:"",rounded:"","no-caps":"",icon:"category",label:t.subNombre?`Subcategor\xEDa: ${t.subNombre}`:"Subcategor\xEDas","content-class":"dropdown-subcats"},{default:x(()=>[v(_t,null,{default:x(()=>[xe((m(),S(_e,{clickable:"",onClick:o[1]||(o[1]=n=>i.seleccionarSubcat(null))},{default:x(()=>[v(j,{avatar:""},{default:x(()=>[v(A,{name:"grid_view"})]),_:1}),v(j,null,{default:x(()=>[F("Todas")]),_:1}),v(j,{side:""},{default:x(()=>[t.subId===null?(m(),S(A,{key:0,name:"check"})):q("",!0)]),_:1})]),_:1})),[[we]]),(m(!0),k(K,null,ee(t.subcategorias,n=>xe((m(),S(_e,{key:n.id,clickable:"",onClick:f=>i.seleccionarSubcat(n.id)},{default:x(()=>[v(j,{avatar:""},{default:x(()=>[v(A,{name:"label"})]),_:1}),v(j,null,{default:x(()=>[F(P(n.name),1)]),_:2},1024),v(j,{side:""},{default:x(()=>[Number(t.subId)===Number(n.id)?(m(),S(A,{key:0,name:"check"})):q("",!0)]),_:2},1024)]),_:2},1032,["onClick"])),[[we]])),128))]),_:1})]),_:1},8,["label"])]),b("div",Gt,[b("h2",Ut,[F(" Categor\xEDa: "+P(t.categoriaNombre)+" ",1),t.subNombre?(m(),k("span",Xt,"\xB7 "+P(t.subNombre),1)):q("",!0)]),t.totalPages>1?(m(),k("div",Yt,[v(N,{flat:"",label:"Anterior",disabled:t.currentPage===1,onClick:o[2]||(o[2]=n=>i.cambiarPagina(t.currentPage-1))},null,8,["disabled"]),b("span",null,P(t.currentPage)+" / "+P(t.totalPages),1),v(N,{flat:"",label:"Siguiente",disabled:t.currentPage===t.totalPages,onClick:o[3]||(o[3]=n=>i.cambiarPagina(t.currentPage+1))},null,8,["disabled"])])):q("",!0),e.loading?(m(),k("div",Jt,[v(kt,{size:"50px",color:"primary"})])):t.isFetched&&t.productos.length===0?(m(),k("div",Zt,[v(A,{name:"sentiment_dissatisfied",size:"80px",color:"grey-5"}),$t])):(m(),k("div",eo,[b("div",to,[(m(!0),k(K,null,ee(t.productos,n=>(m(),S(yt,{key:n.id,class:"product-card-personalizada",flat:"",onClick:f=>i.clickDetalleProducto(n)},{default:x(()=>[v(Pt,{src:i.resolverImagen(n),style:{height:"160px","object-fit":"cover"}},{default:x(()=>[Number(n.cantidad)===0?(m(),k("div",oo,no)):q("",!0),Number(n.porcentaje)>0?(m(),S(St,{key:1,color:"red",floating:""},{default:x(()=>[F("-"+P(n.porcentaje)+"%",1)]),_:2},1024)):q("",!0)]),_:2},1032,["src"]),v(pt,{class:"q-pa-sm text-center"},{default:x(()=>[b("div",lo,P(n.nombre),1),b("div",io,[n.precioNormal?(m(),k("div",so,[ro,uo,b("strong",null,"Bs. "+P(n.precioNormal),1)])):q("",!0),b("div",co,[fo,ho,b("strong",null,"Bs. "+P(n.precio),1)])])]),_:2},1024),Number(n.cantidad)>0?(m(),S(N,{key:0,label:"A\xF1adir al carrito",icon:"shopping_cart",class:"q-mt-sm full-width",style:{"background-color":"#2D9CDB",color:"#fff"},glossy:"",unelevated:"","no-caps":""})):(m(),S(N,{key:1,label:"Agotado",icon:"remove_shopping_cart",class:"q-mt-sm full-width",style:{"background-color":"#d9534f",color:"#fff"},unelevated:"","no-caps":"",disabled:""}))]),_:2},1032,["onClick"]))),128))]),t.totalPages>1?(m(),k("div",mo,[v(N,{flat:"",label:"Anterior",disabled:t.currentPage===1,onClick:o[4]||(o[4]=n=>i.cambiarPagina(t.currentPage-1))},null,8,["disabled"]),b("span",null,P(t.currentPage)+" / "+P(t.totalPages),1),v(N,{flat:"",label:"Siguiente",disabled:t.currentPage===t.totalPages,onClick:o[5]||(o[5]=n=>i.cambiarPagina(t.currentPage+1))},null,8,["disabled"])])):q("",!0)]))])]),_:1})}var ko=bt(Rt,[["render",go],["__scopeId","data-v-172f42a1"]]);export{ko as default};
