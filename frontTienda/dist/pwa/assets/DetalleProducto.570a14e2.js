import{c as O,X as G,Z as X,a as C,h as g,al as U,t as Z,ap as J,aq as K,aa as W,f as Y,_ as $,D as h,E as v,F as c,I as e,G as r,ar as ee,H as w,T as a,S as m,Q as f,ak as te,L as R,M as se,O as z,R as oe}from"./index.e8b66970.js";import{a as le,Q as B}from"./QImg.589813cc.js";import{Q as re,a as S,b as H}from"./QItem.96d3853a.js";import{Q as ae}from"./QList.6d4db183.js";import{Q as ie}from"./QPage.13966087.js";var P=O({name:"QBreadcrumbsEl",props:{...G,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(s,{slots:o}){const{linkTag:x,linkAttrs:b,linkClass:t,navigateOnClick:u}=X(),d=C(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(s.disable!==!0?"q-link--focusable"+t.value:"q-breadcrumbs__el--disable"),...b.value,onClick:u})),p=C(()=>"q-breadcrumbs__el-icon"+(s.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const n=[];return s.icon!==void 0&&n.push(g(U,{class:p.value,name:s.icon})),s.label!==void 0&&n.push(s.label),g(x.value,{...d.value},Z(o.default,n))}}});const ce=["",!0];var ne=O({name:"QBreadcrumbs",props:{...J,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:s=>["none","xs","sm","md","lg","xl"].includes(s),default:"sm"}},setup(s,{slots:o}){const x=K(s),b=C(()=>`flex items-center ${x.value}${s.gutter==="none"?"":` q-gutter-${s.gutter}`}`),t=C(()=>s.separatorColor?` text-${s.separatorColor}`:""),u=C(()=>` text-${s.activeColor}`);return()=>{const d=W(Y(o.default));if(d.length===0)return;let p=1;const n=[],k=d.filter(i=>i.type!==void 0&&i.type.name==="QBreadcrumbsEl").length,y=o.separator!==void 0?o.separator:()=>s.separator;return d.forEach(i=>{if(i.type!==void 0&&i.type.name==="QBreadcrumbsEl"){const _=p<k,Q=i.props!==null&&ce.includes(i.props.disable),q=(_===!0?"":" q-breadcrumbs--last")+(Q!==!0&&_===!0?u.value:"");p++,n.push(g("div",{class:`flex items-center${q}`},[i])),_===!0&&n.push(g("div",{class:"q-breadcrumbs__separator"+t.value},y()))}else n.push(i)}),g("div",{class:"q-breadcrumbs"},[g("div",{class:b.value},n)])}}});const de={name:"DetalleProducto",data(){return{id:this.$route.params.id,product:{},loading:!0,cantidad:1,es_porcentaje:!1,sucursales:[]}},async mounted(){await this.getSucursales(),await this.getProduct()},methods:{async getSucursales(){const s=await this.$axios.get("sucursales");this.sucursales=s.data},async getProduct(){this.loading=!0,this.$q.loading.show();const s=await this.$axios.get(`productos/${this.id}`);if(this.product=s.data,this.product.porcentaje>0){this.es_porcentaje=!0,this.product.precioNormal=this.product.precio;const o=this.product.precio-this.product.precio*this.product.porcentaje/100;this.product.precio=o.toFixed(2)}this.sucursales.forEach(o=>{o.cantidad=this.product[`cantidadSucursal${o.id}`]}),this.loading=!1,this.$q.loading.hide()},addCarrito(s,o){s.cantidad=o,this.$store.addCarrito(s),this.$alert.success("Producto a\xF1adido al carrito")},addCart(s,o,x=!1){const b=`Deseo comprar ${o} ${s.nombre} a Bs. ${s.precio} c/u. Total Bs. ${(s.precio*o).toFixed(2)}`;window.open(`https://wa.me/59172319869?text=${b}`)},share(){const s={title:this.product.nombre,text:this.product.descripcion,url:window.location.href};navigator.share(s).then(()=>console.log("Successful share")).catch(o=>console.log("Error sharing",o))}}},ue={class:"row"},pe={class:"col-12"},he={class:"col-12 col-md-6"},be={class:"text-left q-px-md"},_e={class:"text-h6"},me=e("td",{class:"text-bold"},"Precio:",-1),ge=e("td",{class:"text-bold"},"Unidad:",-1),xe=e("td",{class:"text-bold"},"Stock:",-1),ve=e("td",{class:"text-bold"},"Principio activo:",-1),fe=e("td",{class:"text-bold"},"Distribuidora:",-1),Ce=e("td",{class:"text-bold"},"Laboratorio:",-1),ke=e("td",{class:"text-bold"},"Pais origen:",-1),ye=e("td",{class:"text-bold"},"Registro sanitario:",-1),Qe={class:"row"},qe={class:"col-9 flex flex-center"},we=e("span",{class:"text-bold"},"Cantidad:",-1),Be={class:"text-bold"},Se={class:"col-3 bg-grey-4 text-right"},Pe=e("label",{class:"text-bold"},"Total",-1),De={class:"text-bold justify-between"},je={class:"col-4 q-pa-xs"},Ee={class:"col-4 q-pa-xs"},Le={class:"col-4 q-pa-xs"},Ve={class:"q-pt-xs"},Ie=e("div",{class:"text-bold text-blue"},"Disponible en las siguientes sucursales:",-1),Ne={class:"col-12"},Te=e("label",{class:"text-bold text-h6"},"Descripci\xF3n:",-1),Fe=["innerHTML"],Ae=e("div",{class:"col-12"},[e("label",{class:"text-bold text-h6"},"Productos relacionados:")],-1);function Me(s,o,x,b,t,u){return h(),v(ie,{class:"bg-grey-3 q-pa-md"},{default:c(()=>{var d,p,n,k,y,i,_,Q,q,D,j,E,L,V,I,N,T,F;return[e("div",ue,[e("div",pe,[r(ne,null,{default:c(()=>{var l;return[r(P,{label:"Inicio",to:"/"}),r(P,{label:"Productos",to:"/"}),r(P,{label:(l=t.product)==null?void 0:l.nombre},null,8,["label"])]}),_:1})]),e("div",{class:ee(`col-12 col-md-6 ${s.$q.screen.lt.md?"text-center":"text-right"}`)},[(d=t.product)!=null&&d.imagen?(h(),v(le,{key:0,src:(p=t.product)!=null&&p.imagen.includes("http")?(n=t.product)==null?void 0:n.imagen:`${s.$url}../images/${(k=t.product)==null?void 0:k.imagen}`,"spinner-color":"white",style:{border:"2px solid #496aec","border-radius":"5px"},width:"250px","spinner-size":"40px"},null,8,["src"])):w("",!0)],2),e("div",he,[e("div",be,[e("div",_e,a((y=t.product)==null?void 0:y.nombre),1),e("table",null,[e("tr",null,[me,e("td",null,[m(" Bs. "+a((i=t.product)==null?void 0:i.precio)+" ",1),t.es_porcentaje?(h(),v(B,{key:0,color:"red"},{default:c(()=>{var l,A,M;return[m(" Descuento "+a((l=t.product)==null?void 0:l.porcentaje)+"% - Bs. "+a((((A=t.product)==null?void 0:A.precio)*((M=t.product)==null?void 0:M.porcentaje)/100).toFixed(2)),1)]}),_:1})):w("",!0),e("span",null,[t.es_porcentaje?(h(),v(B,{key:0,color:"green"},{default:c(()=>{var l;return[m(" Bs. "+a((l=t.product)==null?void 0:l.precioNormal),1)]}),_:1})):w("",!0)])])]),e("tr",null,[ge,e("td",null,a((_=t.product)==null?void 0:_.unidad),1)]),e("tr",null,[xe,e("td",null,a(((Q=t.product)==null?void 0:Q.cantidad)>100?"100":(q=t.product)==null?void 0:q.cantidad),1)]),e("tr",null,[ve,e("td",null,a((D=t.product)==null?void 0:D.composicion),1)]),e("tr",null,[fe,e("td",null,a((j=t.product)==null?void 0:j.distribuidora),1)]),e("tr",null,[Ce,e("td",null,a((E=t.product)==null?void 0:E.marca),1)]),e("tr",null,[ke,e("td",null,a((L=t.product)==null?void 0:L.paisOrigen),1)]),e("tr",null,[ye,e("td",null,a((V=t.product)==null?void 0:V.registroSanitario),1)])])]),e("div",Qe,[e("div",qe,[we,r(f,{onClick:o[0]||(o[0]=l=>t.cantidad=t.cantidad-1),icon:"remove",dense:"",round:"",color:"primary",disable:t.cantidad<=1},null,8,["disable"]),r(te,{modelValue:t.cantidad,"onUpdate:modelValue":o[1]||(o[1]=l=>t.cantidad=l),type:"number",min:"1",class:"text-center text-bold",outlined:"",dense:"",style:{"text-align":"center",width:"100px"}},null,8,["modelValue"]),r(f,{onClick:o[2]||(o[2]=l=>t.cantidad=t.cantidad+1),icon:"add",dense:"",round:"",color:"primary",disable:t.cantidad>=((I=t.product)==null?void 0:I.cantidad)},null,8,["disable"]),e("span",Be,a((N=t.product)==null?void 0:N.unidad),1)]),e("div",Se,[Pe,e("div",De,[m(" Bs. "),e("span",null,a((((T=t.product)==null?void 0:T.precio)*t.cantidad).toFixed(2)),1)])]),e("div",je,[r(f,{onClick:o[3]||(o[3]=l=>u.addCarrito(t.product,t.cantidad)),label:"A\xF1adir al carrito",icon:"add_shopping_cart",class:"full-width",color:"blue","no-caps":"",dense:""})]),e("div",Ee,[r(f,{onClick:o[4]||(o[4]=l=>u.addCart(t.product,t.cantidad,!0)),label:"Comprar ahora",icon:"shopping_cart",class:"full-width",color:"red","no-caps":"",dense:""})]),e("div",Le,[r(f,{onClick:u.share,label:"Compartir",icon:"share",class:"full-width",color:"green","no-caps":"",dense:""},null,8,["onClick"])])]),e("div",Ve,[Ie,r(ae,{dense:""},{default:c(()=>[(h(!0),R(z,null,se(t.sucursales,l=>(h(),R(z,{key:l.id},[l.cantidad>0?(h(),v(re,{key:0,clickable:""},{default:c(()=>[r(S,{avatar:""},{default:c(()=>[r(oe,null,{default:c(()=>[r(U,{name:"store"})]),_:1})]),_:1}),r(S,null,{default:c(()=>[r(H,null,{default:c(()=>[m(a(l.nombre),1)]),_:2},1024),r(H,{caption:""},{default:c(()=>[m(a(l.direccion),1)]),_:2},1024)]),_:2},1024),r(S,{side:""},{default:c(()=>[r(B,{color:"green",label:"Disponible"})]),_:1})]),_:2},1024)):w("",!0)],64))),128))]),_:1})])]),e("div",Ne,[Te,e("div",{class:"text-justify q-px-md",innerHTML:(F=t.product)==null?void 0:F.descripcion},null,8,Fe)]),Ae])]}),_:1})}var Ge=$(de,[["render",Me]]);export{Ge as default};
